# 편의점

## domain

- [ ] 상품과 관련하여 저장한다.
    - [x] 상품명, 가격, 재고, 프로모션 기간을 저장한다.
    - [x] 할인하는 상품에 대한 도메인을 변수로 가진다.
    - [x] 구매한 금액만큼 재고를 줄인다.
        - [ ] 재고 소모 순서는 프로모션 > 일반 제품 순서로 재고를 줄인다.
    - [x] 어떤 프로모션 제품인지 확인한다.
        - [ ] 오늘 날짜를 확인하고 프로모션 기간이면 프로모션을 진행한다.
- [x] 프로모션 할인하는 기간을 저장한다.
    - [x] 프로모션 명, 사는 갯수, 추가 프로모션 갯수, 시작 날짜, 종료 날짜을 저장한다.
    - [x] 오늘이 프로모션 기간인지 확인한다.
- [x] 영수증 도메인을 저장한다.
    - [x] 구매한 상품명, 수량, 가격, 프로모션 상품명, 프로모션 수량,프로모션 가격을 저장한다.

## controller

- [x] 시작할 때 재고 초기화를 한다.
    - [x] 재고 초기화는 `product.md`파일에 저장되어 있다.
        - [x] 파일에 저장된 재고를 상품 관련 도메인에 저장한다.
    - [x] 프로모션 기간은 `promotions.md`파일에 저장되어 있다.
        - [x] 파일에 저장된 프로모션 기간에 대한 정보를 도메인에 저장한다.
- [x] 입력값에 따라 제품을 구매한다.
    - [x] 입력 값이 형식에 맞는지 검증한다.
    - [ ] 값을 영수증 클래스 리스트에 넣는다.
- [x] 프로모션 적용상품에 수량을 적게 가져온 경우 추가 여부를 묻는다.
- [x] 프로모션 미적용 상품 구매 여부를 묻는다.
- [x] 적용된 프로모션의 갯수를 저장한다.
- [x] 멤버십 여부를 묻는다.

## view

### 입력

- [x] 구매할 목록에 대해서 입력받는다.
    - [ ] `[상품명-수량]`형식으로 입력받는다.
- [x] 프로모션 적용이 가능한 상품의 수량을 적게 가져온경우, 그 수량만큼 추가 여부를 입력받는다.
    - [ ] Y: 증정받을 수 있는 상품을 추가한다.
    - [ ] N: 증정받을 수 있는 상품을 추가하지 않는다.
- [x] 프로모션 재고가 부족하여 일부 수량을 프로모션 해택 없이 결제해야 하는 경우, 일부 수량에 대해 정가로 결제할지 여부를 입력받는다.
    - [ ] Y: 일부 수량에 대해 정가로 결제한다.
    - [ ] N: 정가로 결제해야하는 수량만큼 제외한 후 결제를 진행한다.
- [x] 멤버십 할인 적용 여부를 입력받는다.
    - [ ] Y: 멤버십 할인을 적용한다.
    - [ ] N: 멤버십 할인을 적용하지 않는다.
- [x] 추가 구매 여부를 입력받는다.
    - [ ] Y: 재고가 업데이트된 상품 목록을 확인 후 추가로 구매를 진행한다.
    - [ ] N: 구매를 종료한다.

### 출력

- [ ] 시작 메시지를 출력합니다.
- [ ] 현재 보유하고 있는 상품을 출력합니다.
    - [ ] 상품 관련 도메인을 출력한다.
- [ ] 구매 상품 내역, 증정 상품 내역, 금액 정보를 출력한다.
    - [ ] 상품명, 수량, 금액 순서로 출력된다.
    - [ ] 증정은 상품명, 수량 순서로 출력된다.
    - [ ] 금액 정보는 총구매액, 행사할인, 멤버십할인, 내실돈 순서로 출력된다.

## utils

- [x] `.md` 파일을 읽어 도메인으로 저장한다.
    - [x] `products.md` 파일에 있는 정보를 도메인에 저장한다.
    - [x] `promotions.md` 파일에 있는 정보를 도메인에 저장한다.
- [ ] 상품계산 금액을 반환한다.

## validators

- [x] 입력받은 문자열에 다른 문자가 들어가면 예외를 출력한다.
    - [x] `한글`, `숫자`, `[`, `]`, `-`, `,`를 제외하고 예외를 출력한다.
- [x] Y, N이 아닌 다른 문자를 받으면 예외를 출력한다.
- [x] 존재하지 않는 상품은 예외를 출력한다.
- [x] 올바른 형식에 문자를 입력하면 예외를 출력한다.
- [ ] 문자를 입력하지 않으면 예외를 출력한다.
- [x] 입력받은 상품의 재고를 초과하면 예외를 발생한다.